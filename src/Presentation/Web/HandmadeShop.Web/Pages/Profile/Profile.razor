@page "/profile"
@layout MainLayout
@using HandmadeShop.Web.Common
@inherits ProfileBase

<MudStack>
    <MudPaper Class="mt-8" Width="90%" Height="400px" Elevation="0">
        <MudText Class="mb-4" Typo="Typo.h4">Мой профиль</MudText>
        <MudTabs Elevation="2" Rounded="true" ApplyEffectsToContainer="true" PanelClass="pa-6">
            <MudTabPanel Text="Личный данные">
                <MudText>Content One</MudText>
            </MudTabPanel>
    
            <MudTabPanel Text="Смена пароля">
                <MudItem xs="6" sm="4">
                    <MudAlert Severity="Severity.Error" Class="@(ShowErrors ? "mb-3 d-block" : "d-none")">
                        @ErrorDetail
                    </MudAlert>
    
                    <MudTextField @bind-Value="ResetPwdModel.Password" For="@(() => ResetPwdModel.Password)"
                                  Label="Password"
                                  InputType="@PasswordInput"
                                  Adornment="Adornment.End"
                                  AdornmentIcon="@PasswordInputIcon"
                                  Required="true"
                                  RequiredError="Password is required!"
                                  OnAdornmentClick="@(() => ChangeVisibility(PasswordType.Password))"/>
    
                    <MudTextField @bind-Value="ResetPwdModel.ConfirmPassword" For="@(() => ResetPwdModel.ConfirmPassword)"
                                  Label="Confirm Password"
                                  InputType="@PasswordConfirmInput"
                                  Adornment="Adornment.End"
                                  AdornmentIcon="@PasswordConfirmInputIcon"
                                  Required="true"
                                  RequiredError="Password is required!"
                                  OnAdornmentClick="@(() => ChangeVisibility(PasswordType.ConfirmPassword))"
                                  Validation="@(new Func<string, string>(PasswordMatch))"/>
    
                    <MudButton Variant="Variant.Filled"
                               Color="Color.Primary"
                               Disabled="@(!IsSuccess)"
                               Size="Size.Large"
                               OnClick="@(async () => await OnValidSubmit())"
                               Class="ml-auto mt-4">Сохранить</MudButton>
                                    
                </MudItem>

            </MudTabPanel>
    
            <MudTabPanel Text="Адресс доставки">
                <MudText>Content Three</MudText>
            </MudTabPanel>
        </MudTabs>
    </MudPaper>
</MudStack>
